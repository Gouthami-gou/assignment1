<html>

<head>
    <title>Shopping Website</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery.js"></script>


<body>
    <div></div><br><br>
    <div>
        <div class="row">
            <div class="col-sm-8"></div>
            <div class="col-sm-2">
                <div class="dropdown">
                    <button class="btn info dropdown-toggle" type="button" data-toggle="dropdown">Order By
                        <span class="caret"></span></button>
                    <ul class="dropdown-menu price-sorting" name="price-sorting">
                        <li><a href="#" id="lowtohigh"  value="l2h" onclick="sortProductsPriceAscending()">Lower price to Higher price</a></li>
                        <li><a href="#" id="hightolow" value="h2l" onclick="sortProductsPriceDescending()">Higher price to Lower price</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-2">
                <a href="" data-toggle="modal" data-target="#myModal"> <img src="images/cart.png" ><label id="count-cart"></label></a>
                <button id="clear-cart" class="btn btn primary">Clear Cart</button>

            </div>
        </div>
    </div><br><br>
    <div>
<h4 id="div" style="margin-left:200px"> </h4>


    </div>
    <div class="row">
        <div class="col-sm-2">
            <div class="row">
                <div class="col-sm-4">
                    <button class="button button1" id="xl" onclick="extraLarge()">XL</button>
                </div>
                <div class="col-sm-4">
                    <button class="button button1" style="font-size: small;" id="xxl" onclick="xxl()">XXL</button>
                </div>
                <div class="col-sm-4">
                    <button class="button button1" style="width: 48px;" id="large" onclick="large()">L</button>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <button class="button button1" id="ml" onclick="ml()">ML</button>
                </div>
                <div class="col-sm-4">
                    <button class="button button1" style="width:48px" id="s" onclick="s()">S</button>
                </div>
                <div class="col-sm-4">
                    <button class="button button1" id="xs" onclick="xsmall()">XS</button>
                </div>

            </div>

        </div>
        <div class="col-sm-8 products-grid ">
            <div class="row ">
                <div class="col-sm-3 extraL product" data-price="150">
                    <img src="images/shirt.jpg">
                    <h5>White/Navy Round Neck T-shirt </h5>
                    <h4 id="" >Rs.150</h4>
                    <button class="btn btn-success add-to-cart"  data-name="White/Navy Round Neck T-shirt" data-price="150" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 extraLL product" data-price="250">
                    <img src="images/shirt1.jpg">
                    <h5>Best Cotton T-shirt</h5>
                    <h4 id="" >Rs.250</h4>

                    <button class="btn btn-success add-to-cart" data-name="Best Cotton T-shirt" data-price="250" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 extraL product" data-price="350">
                    <img src="images/shirt2.jpg" class="image-responsive">
                    <h5> Collar full sleeve T-shirt</h5>
                    <h4 id="" >Rs.350</h4>
                    <button class="btn btn-success add-to-cart" data-name="Collar full sleeve T-shirt" data-price="350" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 extraLL product" data-price="650">
                    <img src="images/shirt3.jpg" class="image-responsive">
                    <h5> Orange T-shirt</h5>
                    <h4 id="" >Rs.650</h4>
                    <button class="btn btn-success add-to-cart" data-name="Orange T-shirt" data-price="650" style="width: 180px;">Add to Cart</button>
                </div>
            </div><br>
            <div class="row ">
                <div class="col-sm-3 extraL product" data-price="250">
                    <img src="images/shirt4.jpg">
                    <h5>Round Neck full-sleeve T-shirt</h5>
                    <h4 id="" >Rs.250</h4>
                    <button class="btn btn-success add-to-cart" data-name="Round Neck full-sleeve T-shirt" data-price="250" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 large product" data-price="250">
                    <img src="images/shirt5.jpg">
                    <h5>Men's Gold-Foil T-shirt</h5>
                    <h4 id="" >Rs.250</h4>
                    <button class="btn btn-success add-to-cart" data-name="Men's Gold-Foil T-shirt" data-price="250" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 ml product" data-price="150">
                    <img src="images/shirt6.jpg">
                    <h5>Two color polo shirt</h5>
                    <h4 id="" >Rs.150</h4>
                    <button class="btn btn-success add-to-cart" data-name="Two color polo shirt" data-price="150" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 large product" data-price="350">
                    <img src="images/shirt7.jpg">
                    <h5> African print Shirt</h5>
                    <h4 id="" >Rs.350</h4>
                    <button class="btn btn-success add-to-cart" data-name="African print Shirt" data-price="350" style="width: 180px;">Add to Cart</button>
                </div>

            </div>
            <br>
            <div class="row " id="">
                <div class="col-sm-3 ml product" data-price="450">
                    <img src="images/shirt8.jpg">
                    <h5> Short Sleeve</h5>
                    <h4 id="" >Rs.450</h4>
                    <button class="btn btn-success add-to-cart" data-name="Short Sleeve" data-price="450" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 large product" data-price="650">
                    <img src="images/shirt9.jpg">
                    <h5>top marino wool T-shirt</h5>
                    <h4 id="" >Rs.650</h4>
                    <button class="btn btn-success  add-to-cart"  data-name="top marino wool T-shirt" data-price="650" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 small product" data-price="550">
                    <img src="images/shirt10.jpg">
                    <h5>Stripe long sleeve</h5>
                    <h4 id="" >Rs.550</h4>
                    <button class="btn btn-success add-to-cart" data-name="Stripe long sleeve" data-price="550" style="width: 180px;">Add to Cart</button>
                </div>
                <div class="col-sm-3 xsmall product" data-price="450">
                    <img src="images/shirt11.jpg">
                    <h5>Korean summer Neck T-shirt</h5>
                    <h4 id="" >Rs.450</h4>
                    <button class="btn btn-success add-to-cart" data-name="Korean summer Neck T-shirt" data-price="450" style="width: 180px;">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="col-sm-2">

        </div>
    </div>


    <div class="modal fade down" id="myModal" role="dialog" >
        <div class="modal-dialog model-lg" >
        
          <!-- Modal content-->
          <div class="modal-content content" >
            <div class="modal-header" style="background: rgb(241, 243, 231);">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Cart Items</h4>
            </div>
            <div class="modal-body" style="background-color: rgb(241, 243, 231);">
                <ul id="show-cart">
                    <li>???????</li>
                </ul>

             </div>
            <div class="modal-footer" style="background: rgb(241, 243, 231);">
                Total Amount: Rs&nbsp;<span id="total-cart"></span>      

              <button type="button" class="btn btn-info" data-dismiss="modal">Check Out</button>
            </div>
          </div>
          
        </div>
      </div>
      

    <script src="js/shoppingCart.js"></script>


    <script>

        $(".add-to-cart").click(function(event){
            event.preventDefault();
            var name = $(this).attr("data-name");
            var price = Number($(this).attr("data-price"));

            shoppingCart.addItemToCart(name, price, 1);
            displayCart();
        });

        $("#clear-cart").click(function(event){
            shoppingCart.clearCart();
            displayCart();
        });

        function displayCart() {
            var cartArray = shoppingCart.listCart();
            console.log(cartArray);
            var output = "";

            for (var i in cartArray) {
                output += "<li>"
                    +cartArray[i].name
                    +" <input class='item-count' type='number' data-name='"
                    +cartArray[i].name
                    +"' value='"+cartArray[i].count+"' >"
                    +" x "+cartArray[i].price
                    +" = "+cartArray[i].total
                    +" <button  class='plus-item add' data-name='"
                    +cartArray[i].name+"'> +1</button>"
                    +" <button class='subtract-item add' data-name='"
                    +cartArray[i].name+"'>-1</button>"
                    +" <button class='delete-item add' data-name='"
                    +cartArray[i].name+"'>Delete </button>"
                    +"</li><br>";
            }

            $("#show-cart").html(output);
            $("#count-cart").html( shoppingCart.countCart() );
            $("#total-cart").html( shoppingCart.totalCart() );
        }

        $("#show-cart").on("click", ".delete-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCartAll(name);
            displayCart();
        });

        $("#show-cart").on("click", ".subtract-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCart(name);
            displayCart();
        });

        $("#show-cart").on("click", ".plus-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.addItemToCart(name, 0, 1);
            displayCart();
        });

        $("#show-cart").on("change", ".item-count", function(event){
            var name = $(this).attr("data-name");
            var count = Number($(this).val());
            shoppingCart.setCountForItem(name, count);
            displayCart();
        });


        displayCart();

    </script>



</body>

</html>